# 留言板

## 前端

```sh
cd /usr/local/nginx/html/blog/issue
```

> 把打包好的dist文件夹拖进去即可

## 后端

> 编写Dockerfile

```dockerfile
From openjdk:8
LABEL auth="作者" email="邮箱地址" version="1.0"
ENV TZ=Asia/Shanghai
COPY app.jar app.jar
ENTRYPOINT ["java","-jar","app.jar"]
EXPOSE 9601
```
如果服务器有时区问题，要加上ENV TZ=Asia/Shanghai

> 把打包好的jar拖进Dockerfile，构建镜像和启动

```sh
docker build -t blog-issue:1.0 .
docker run --name blog-issue-1.0 -dp 9601:9601 blog-issue:1.0
```

## Nginx

> nignx.conf配置

```nginx
    server {
        listen       80;
        server_name  issue.choujuju.cn;

        location / {
            alias   /usr/local/nginx/html/blog/issue/dist/;
            index  index.html index.htm;
        }
        location /apis/ {
            proxy_pass 后端地址;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
```

## 相关命令

```sh
# 删除容器
docker rm -f blog-issue-1.0

# 删除镜像
docker rmi -f blog-issue:1.0
```

