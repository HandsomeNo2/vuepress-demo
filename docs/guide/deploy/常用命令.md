# 个人常用命令

## Docker

> contain_id：容器id或容器名称

> image_id：镜像id或镜像名称

```sh
#进入某个容器
docker exec -it contain_id /bin/bash
#获取容器所有信息
docker inspect contain_id
#查看容器内运行了什么
docker top contain_id

#创建一个数据卷
docker volume create 数据卷名称
docker volume inspect 数据卷名称 #查看数据卷信息

#查看容器日志
docker logs contain_id
docker logs -n 100 contain_id #查看最后一百行日志
docker logs -f contain_id #持续输出日志

#查看容器ip
docker inspect contain_id |grep IPAddress
docker inspect -f='{{.Name}} {{.NetworkSettings.IPAddress}} {{.HostConfig.PortBindings}}' $(docker ps -aq)  #查看所有容器IP

# 启动docker
service docker start
# 关机docker
service docker stop
# 重启docker
service docker restart
# 查看容器列表， 列出所有的容器
docker ps -a
# 启动容器
docker start contain_id 
# 关闭容器
docker stop contain_id
# 重启
docker restart contain_id
# 删除
docker rm contain_id

# 将当前目录的test.md文件拷贝到容器的 /tmp 目录下
docker cp test.md contain_id:/tmp

# 将容器的/tmp/test.md目录拷贝到当前目录下
docker cp contain_id:/tmp/test.md ./out.md
```



## Nginx

```shell
#启动服务
systemctl start nginx.service
./nginx

#检查配置文件是否正确
nginx -t

#重新加载nginx
systemctl reload nginx
./nginx -s reload

#重新加载nginx
systemctl status nginx.service

#优雅关闭，在退出前完成已经接受的连接请求 
./nginx -s quit
#快速停止
./nginx -s stop

#查看进程
ps -ef | grep nginx

cd /usr/local/nginx/sbin/
./nginx  #启动
./nginx -s stop  #停止
./nginx -s quit  #安全退出
./nginx -s reload  #重新加载配置文件  如果我们修改了配置文件，就需要重新加载。
/usr/local/nginx/sbin/nginx -s reload 
ps aux|grep nginx  #查看nginx进程

```

